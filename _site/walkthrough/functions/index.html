<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Foundation | Welcome</title>
    <link rel="stylesheet" href="/css/foundation/app.css">
    <link rel="stylesheet" href="/css/foundation/docs.css">
  </head>
  <body>
    
    <div class="grid-y medium-grid-frame">
      <!-- Start Top Bar -->
    <div class="top-bar">
      <div class="top-bar-left">
        <ul class="menu">
          <li class="menu-text">databox</li>
        </ul>
      </div>
      <div class="top-bar-right">
        <ul class="menu">
          <li><a href="https://github.com/me-box/platform-sdk">sdk github</a></li>
          <li><a href="https://github.com/me-box/databox">databox github</a></li>
          <li><a href=" http://www.databoxproject.uk">databox project</a></li>
        </ul>
      </div>
    </div>
    <!-- End Top Bar -->

      <div class="callout large primary">
      <div class="row column text-center">
        <h1>databox sdk functions</h1>
      </div>
    </div>
      <div class="cell medium-auto medium-cell-block-container" >
        <div class="grid-x grid-padding-x fullheight" >
           <div class="cell medium-2 medium-cell-block-y menu">
            <div>
  
    <ul class="menu side">
      <li class="docs-nav-title">overview</li>
    
      <li> <a href="/overview/databox.html">databox overview</a></li>
    
      <li> <a href="/overview/sdk.html">sdk overview</a></li>
    
    </ul>
  

  
    <ul class="menu side">
      <li class="docs-nav-title">getting started</li>
    
      <li> <a href="/gettingstarted/quickstart">quick start</a></li>
    
      <li> <a href="/gettingstarted/install">installing databox and the sdk</a></li>
    
    </ul>
  

  
    <ul class="menu side">
      <li class="docs-nav-title">sdk walk-through</li>
    
      <li> <a href="/walkthrough/nodes">datasources, processors and outputs</a></li>
    
      <li> <a href="/walkthrough/data">data types and schemas</a></li>
    
      <li> <a href="/walkthrough/functions">working with functions</a></li>
    
    </ul>
  

  
    <ul class="menu side">
      <li class="docs-nav-title">sdk tutorials</li>
    
      <li> <a href="/tutorials/bulb/">flash bulbs</a></li>
    
      <li> <a href="/tutorials/gauge/">light gauge</a></li>
    
      <li> <a href="/tutorials/accelerometer/">accelerometer vapour trail</a></li>
    
    </ul>
  
</div>
           </div>
            <div class="cell medium-10 medium-cell-block-y">
              <div class="tutorialcontent">
                <h2 id="databox-sdk-functions-dbfunction">databox sdk functions (dbfunction)</h2>

<p>Databox sdk function nodes (dbfunction) allow you to write javascript to process input data.  There are a few headline things that you need to know:</p>

<ul>
  <li>values <strong>returned</strong> by functions are sent as messages. If you do not wish to send a message, simply return nothing.</li>
  <li>to send multiple outputs, you send an array (item at index 0 is sent on the first output, at index 1 on the second output and so on)</li>
  <li>you are able to import npm libraries.  When you subsequently test a function a new container is built with any imported libraries installed.</li>
  <li>functions can store and access data to use between invocations using a  <strong>context</strong> object:</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">//store foo</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">,</span> <span class="nx">myvalue</span><span class="p">)</span>

<span class="c1">//retrieve foo</span>
<span class="kd">var</span> <span class="nx">myvalue</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">)</span> <span class="o">||</span> <span class="nx">adefaultvalue</span>
</code></pre>
</div>

 
              </div>
           </div>
        </div>
      </div>
    </div>
   
  </body>
</html>



